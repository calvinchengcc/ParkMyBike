<% flash.each do |name, msg| %>
  <% case name %>
  <% when 'notice', 'success' %>
    <%= render partial: 'layouts/alert',
               locals: {context: 'alert-success',
                        msg_start: 'Success!',
                        msg_body: msg} %>

  <% when 'info' %>
    <%= render partial: 'layouts/alert',
               locals: {context: 'alert-info',
                        msg_start: 'Heads up!',
                        msg_body: msg} %>

  <% when 'alert', 'warn' %>
    <%= render partial: 'layouts/alert',
               locals: {context: 'alert-warning',
                        msg_start: 'Warning!',
                        msg_body: msg} %>

  <% when 'danger', 'error', 'fatal' %>
    <%= render partial: 'layouts/alert',
               locals: {context: 'alert-danger',
                        msg_start: 'Uh oh.',
                        msg_body: msg} %>
  <% end %>
<% end %>
